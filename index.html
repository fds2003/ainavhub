<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½èšè½ - AIèµ„è®¯å¯¼èˆª</title>
    <meta name="description" content="AIèµ„è®¯å¯¼èˆªå¹³å°ï¼Œå®æ—¶èšåˆå…¨çƒAIé¢†åŸŸæœ€æ–°åŠ¨æ€å’Œå·¥å…·æ¨è">
    <meta name="keywords" content="äººå·¥æ™ºèƒ½, AIèµ„è®¯, å·¥å…·å¯¼èˆª, AIæŠ€æœ¯, æœºå™¨å­¦ä¹ , å¤§è¯­è¨€æ¨¡å‹, LLM, GPT, æ·±åº¦å­¦ä¹ ">
    <meta name="author" content="AiNavHub">
    <meta name="theme-color" content="#2563eb">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- èµ„æºé¢„åŠ è½½ -->
    <link rel="preload" href="./css/output.css" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" as="style">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" as="style">
    
    <!-- ç½‘ç«™å›¾æ ‡ -->
    <link rel="icon" href="./favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="./favicon.svg">
    
    <!-- æ ·å¼è¡¨ -->
    <link rel="stylesheet" href="./css/output.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* åŠ¨ç”»æ•ˆæœ */
        .loading-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: .5; } }
        .personal-border { border-left: 4px solid #2563eb; }
        
        /* æ ¸å¿ƒå¸ƒå±€æ ·å¼ - æ€§èƒ½ä¼˜åŒ– */
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            text-rendering: optimizeSpeed;
            -webkit-font-smoothing: antialiased;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
            width: 100%;
            box-sizing: border-box;
        }
        
        main {
            flex: 1;
            width: 100%;
            will-change: transform;
        }
        
        /* å¡ç‰‡æ ·å¼ä¼˜åŒ– */
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            will-change: transform;
            backface-visibility: hidden;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        /* å¸ƒå±€è¾…åŠ©ç±» */
        section { width: 100%; }
        .text-center { text-align: center; }
        .flex-center {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        /* å“åº”å¼ä¼˜åŒ– */
        @media (max-width: 768px) {
            .container { padding: 0 0.75rem; }
            .card { margin-bottom: 1rem; }
            h1, h2 { font-size: 1.25rem; }
            .hidden-mobile { display: none; }
            .mobile-full-width { width: 100%; }
            .mobile-py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
            .mobile-px-2 { padding-left: 0.5rem; padding-right: 0.5rem; }
            .mobile-text-sm { font-size: 0.875rem; }
        }
        
        /* æš—è‰²æ¨¡å¼å¢å¼º */
        @media (prefers-color-scheme: dark) {
            body { color-scheme: dark; }
            .card {
                background: #1f2937;
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
            }
            .card:hover {
                box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
            }
            img { filter: brightness(.8) contrast(1.2); }
        }
        
        /* å‡å°‘å¸ƒå±€åç§» */
        img, video { height: auto; max-width: 100%; }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900 min-h-screen flex flex-col items-center transition-colors duration-300">
    <header class="bg-white/95 dark:bg-gray-800/95 backdrop-blur-md sticky top-0 z-50 shadow-md border-b border-gray-100 dark:border-gray-700 transition-all duration-300">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-md hover:shadow-blue-500/20 transition-all duration-300">
                        <i class="fas fa-robot text-white text-xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold text-gray-800 dark:text-white tracking-tight">æ™ºèƒ½èšè½</h1>
                        <p class="text-sm text-gray-600 dark:text-gray-300 font-medium">AIå‰æ²¿å¯¼èˆª</p>
                    </div>
                </div>
                
                <!-- Mobile menu button -->
                <button type="button" id="mobile-menu-button" class="md:hidden text-gray-700 dark:text-gray-300">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
                
                <!-- Search Bar -->
                <div class="hidden md:flex items-center mr-4">
                    <div class="relative">
                        <input 
                            type="text" 
                            id="global-search" 
                            placeholder="æœç´¢AIå·¥å…·ã€æ–‡ç« ã€èµ„æº..." 
                            class="py-2 pl-10 pr-4 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"
                        >
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>
                
                <!-- Navigation Menu -->
                <nav id="main-nav" class="hidden md:flex items-center space-x-1">
                    <a href="#home" class="nav-link px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">é¦–é¡µ</a>
                    <a href="#news" class="nav-link px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">æœ€æ–°èµ„è®¯</a>
                    <a href="#tools" class="nav-link px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">å·¥å…·å¯¼èˆª</a>
                    <a href="#products" class="nav-link px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">çƒ­é—¨äº§å“</a>

                    <a href="#topics" class="nav-link px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">ä¸“é¢˜å¯¼èˆª</a>
                    <a href="#about" class="nav-link px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">å…³äºæˆ‘ä»¬</a>
                </nav>
            </div>
            
            <!-- Mobile menu (hidden by default) -->
            <div id="mobile-menu" class="hidden md:hidden mt-4 py-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg">
                <!-- Mobile Search -->
                <div class="px-4 mb-4">
                    <div class="relative">
                        <input 
                            type="text" 
                            id="mobile-search" 
                            placeholder="æœç´¢AIå·¥å…·ã€æ–‡ç« ã€èµ„æº..." 
                            class="w-full py-2 pl-10 pr-4 rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"
                        >
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                </div>
                
                <a href="#home" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">é¦–é¡µ</a>
                <a href="#news" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">æœ€æ–°èµ„è®¯</a>
                <a href="#tools" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">å·¥å…·å¯¼èˆª</a>
                <a href="#products" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">çƒ­é—¨äº§å“</a>

                <a href="#topics" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">ä¸“é¢˜å¯¼èˆª</a>
                <a href="#about" class="block px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">å…³äºæˆ‘ä»¬</a>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-4 w-full max-w-7xl">
        <section id="home" class="text-center py-6 mb-6">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800 dark:text-white mb-3">
                å‘ç°AIä¸–ç•Œçš„<span class="text-blue-600 dark:text-blue-400">ç²¾å½©</span>
            </h2>
            <p class="text-lg text-gray-600 dark:text-gray-300 mb-4 max-w-3xl mx-auto">
                ä¸ºæ‚¨ç²¾é€‰å…¨çƒäººå·¥æ™ºèƒ½é¢†åŸŸçš„æœ€æ–°èµ„è®¯ã€å‰æ²¿æŠ€æœ¯å’Œå®ç”¨å·¥å…·
            </p>
        </section>

        <!-- æœ€æ–°èµ„è®¯ News Section with Categories -->
        <section id="news" class="mb-8">
            <div class="text-center mb-6">
                <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-2 flex items-center justify-center">
                    <i class="fas fa-newspaper text-blue-600 mr-3"></i>æœ€æ–°AIèµ„è®¯
                </h3>
                <p class="text-gray-600 dark:text-gray-300 text-sm">å®æ—¶èšåˆçš„AIé¢†åŸŸå‰æ²¿åŠ¨æ€</p>
            </div>
            
            <!-- News Categories Filter -->
            <div class="mb-4 px-4">
                <div class="flex flex-wrap items-center justify-center gap-2">
                    <button type="button" class="news-filter-btn px-3 py-1 bg-blue-500 dark:bg-blue-600 text-white rounded-full text-sm font-medium transition-colors" data-filter="all">
                        å…¨éƒ¨
                    </button>
                    <button type="button" class="news-filter-btn px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900 transition-colors" data-filter="industry">
                        è¡Œä¸šæ–°é—»
                    </button>
                    <button type="button" class="news-filter-btn px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900 transition-colors" data-filter="tech">
                        æŠ€æœ¯å‰æ²¿
                    </button>
                    <button type="button" class="news-filter-btn px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900 transition-colors" data-filter="application">
                        åº”ç”¨çƒ­ç‚¹
                    </button>
                </div>
            </div>

            <div id="ai-news-content" class="grid gap-6">
                <div class="text-center py-12">
                    <div class="inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mb-4"></div>
                    <p class="text-gray-600 dark:text-gray-400 text-lg">æ­£åœ¨ä¸ºæ‚¨åŠ è½½æœ€æ–°AIèµ„è®¯...</p>
                    <p class="text-sm text-gray-500 dark:text-gray-500 mt-2">é¦–æ¬¡åŠ è½½éœ€è¦5-10ç§’ï¼Œè¯·è€å¿ƒç­‰å¾…</p>
                </div>
            </div>
        </section>

        <!-- å·¥å…·å¯¼èˆª Tools Navigation -->
        <section id="tools" class="mb-8 py-6 bg-white dark:bg-gray-800 rounded-xl shadow-sm">
            <div class="text-center mb-4">
                <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-2 flex items-center justify-center">
                    <i class="fas fa-tools text-blue-600 mr-3"></i>AIå·¥å…·å¯¼èˆª
                </h3>
                <p class="text-gray-600 dark:text-gray-300 text-sm">å‘ç°æœ€é€‚åˆæ‚¨éœ€æ±‚çš„AIå·¥å…·</p>
            </div>
            
            <!-- å·¥å…·è¿‡æ»¤å™¨å’Œæ’åºå™¨ -->
            <div class="mb-4 px-4">
                <div class="flex flex-wrap items-center justify-center gap-2">
                    <div class="flex flex-wrap items-center justify-center gap-2">
                        <button type="button" class="filter-btn px-3 py-1 bg-blue-500 dark:bg-blue-600 text-white rounded-full text-sm font-medium transition-colors" data-filter="all">
                            å…¨éƒ¨
                        </button>
                        <button type="button" class="filter-btn px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900 transition-colors" data-filter="chatbot">
                            èŠå¤©æœºå™¨äºº
                        </button>
                        <button type="button" class="filter-btn px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900 transition-colors" data-filter="image">
                            å›¾åƒç”Ÿæˆ
                        </button>
                        <button type="button" class="filter-btn px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900 transition-colors" data-filter="coding">
                            ç¼–ç¨‹åŠ©æ‰‹
                        </button>
                        <button type="button" class="filter-btn px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900 transition-colors" data-filter="productivity">
                            ç”Ÿäº§åŠ›å·¥å…·
                        </button>
                        <button type="button" class="filter-btn px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900 transition-colors" data-filter="video">
                            è§†é¢‘åˆ¶ä½œ
                        </button>
                    </div>
                    
                    <div class="flex items-center border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden">
                        <span class="px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm">æ’åº:</span>
                        <select id="tools-sort" class="bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-2 py-1 text-sm focus:outline-none">
                            <option value="name">æŒ‰åç§°</option>
                            <option value="category">æŒ‰ç±»åˆ«</option>
                        </select>
                    </div>
                </div>
            </div>
            
                <!-- å·¥å…·åˆ†ç±»å¡ç‰‡ä¼šé€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                <div id="tools-content" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 items-stretch">
                    <div class="text-center py-6">
                        <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2"></div>
                        <p class="text-gray-600 dark:text-gray-400 text-sm">åŠ è½½AIå·¥å…·æ•°æ®ä¸­...</p>
                    </div>
                </div>
        </section>

        <!-- çƒ­é—¨äº§å“ Popular Products -->
        <section id="products" class="mb-8 py-6 bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-gray-800 dark:to-gray-900 rounded-xl shadow-sm">
            <div class="text-center mb-4">
                <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-2 flex items-center justify-center">
                    <i class="fas fa-star text-yellow-500 mr-3"></i>çƒ­é—¨AIäº§å“
                </h3>
                <p class="text-gray-600 dark:text-gray-300 text-sm">å½“å‰æœ€å—å…³æ³¨çš„AIäº§å“å’Œå¹³å°</p>
            </div>
            
            <!-- Products Sorting Options -->
            <div class="mb-8 px-4">
                <div class="flex flex-wrap items-center justify-center gap-4">
                    <div class="flex flex-wrap items-center justify-center gap-2">
                        <button type="button" class="product-filter-btn px-4 py-2 bg-blue-500 dark:bg-blue-600 text-white rounded-full text-sm font-medium transition-colors" data-filter="all">
                            å…¨éƒ¨
                        </button>
                        <button type="button" class="product-filter-btn px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900 transition-colors" data-filter="chat">
                            èŠå¤©å·¥å…·
                        </button>
                        <button type="button" class="product-filter-btn px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900 transition-colors" data-filter="image">
                            å›¾åƒç”Ÿæˆ
                        </button>
                        <button type="button" class="product-filter-btn px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900 transition-colors" data-filter="coding">
                            ç¼–ç¨‹åŠ©æ‰‹
                        </button>
                        <button type="button" class="product-filter-btn px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-full text-sm font-medium hover:bg-blue-100 dark:hover:bg-blue-900 transition-colors" data-filter="productivity">
                            ç”Ÿäº§åŠ›å·¥å…·
                        </button>
                    </div>
                    
                    <div class="flex items-center border border-gray-300 dark:border-gray-600 rounded-lg overflow-hidden">
                        <span class="px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-sm">æ’åº:</span>
                        <select id="products-sort" class="bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-3 py-2 text-sm focus:outline-none">
                            <option value="default">é»˜è®¤</option>
                            <option value="hotness">çƒ­åº¦æ’è¡Œ</option>
                            <option value="name">æŒ‰åç§°</option>
                        </select>
                    </div>
                </div>
            </div>
            
                <div id="products-content" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-stretch">
                    <div class="text-center py-12">
                        <div class="inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mb-4"></div>
                        <p class="text-gray-600 dark:text-gray-400">åŠ è½½çƒ­é—¨äº§å“æ•°æ®ä¸­...</p>
                    </div>
                </div>
        </section>



        <!-- ä¸“é¢˜å¯¼èˆª Topics Navigation -->
        <section id="topics" class="mb-16 py-12 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-gray-800 dark:to-gray-900 rounded-xl shadow-sm">
            <div class="text-center mb-12">
                <h3 class="text-3xl font-bold text-gray-800 dark:text-white mb-4 flex items-center justify-center">
                    <i class="fas fa-bookmark text-purple-600 mr-3"></i>ä¸“é¢˜å¯¼èˆª
                </h3>
                <p class="text-gray-600 dark:text-gray-300">æ·±åº¦æ¢ç´¢AIå‰æ²¿ä¸“é¢˜</p>
            </div>
            
                <div id="topics-content" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-stretch">
                    <div class="text-center py-12">
                        <div class="inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mb-4"></div>
                        <p class="text-gray-600 dark:text-gray-400">åŠ è½½ä¸“é¢˜æ•°æ®ä¸­...</p>
                    </div>
                </div>
        </section>
    </main>

    <footer class="bg-gray-100 dark:bg-gray-800 py-8 border-t border-gray-200 dark:border-gray-700">
        <div class="container mx-auto px-4 text-center">
            <h3 class="text-lg font-medium text-gray-700 dark:text-gray-300 mb-6">è”ç³»æˆ‘ä»¬</h3>
            
            <div class="flex flex-col items-center justify-center space-y-3 mb-6">
                <p class="text-gray-600 dark:text-gray-400 flex items-center">
                    <i class="fas fa-envelope text-blue-500 mr-2"></i>
                    contact@ainavhub.com
                </p>
                <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md transition-colors duration-200">
                    <i class="fas fa-paper-plane mr-2"></i>è®¢é˜…æ›´æ–°
                </button>
            </div>
            
            <div class="text-gray-500 dark:text-gray-400 text-sm">
                Â© 2025 æ™ºèƒ½èšè½ - AIèµ„è®¯å¹³å° | 
                <a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener" class="hover:text-blue-500 transition-colors duration-200">
                    ç²¤ICPå¤‡2025470020å·-3
                </a>
            </div>
        </div>
    </footer>

    <!-- æ ¸å¿ƒåŠŸèƒ½è„šæœ¬ -->
    <script>
        // AiNavHubç®€åŒ–ç‰ˆé…ç½® (GitHub Actions + JSONæ•°æ®æ–¹æ¡ˆ)
        const AINewsConfig = {
            dataPath: './data/rss-data.json',
            toolsDataPath: './data/tools.json',
            productsDataPath: './data/products.json',
            learningDataPath: './data/learning-resources.json',
            topicsDataPath: './data/topics.json',
            cacheKey: 'ai_news_cache',
            cacheTimeout: 30 * 60 * 1000, // 30åˆ†é’Ÿæœ¬åœ°ç¼“å­˜
            aiScoreThreshold: 3.0,
            maxArticles: 15,

            // AIå·¥å…·åˆ†ç±»ï¼ˆç”¨äºå†…å®¹åˆ†æï¼‰
            aiTools: [],

            // å¤‡ç”¨çš„é™æ€æ–°é—»æ•°æ®ï¼ˆç”¨äºæ¼”ç¤ºå’Œé™çº§æ–¹æ¡ˆï¼‰
            fallbackData: [
                {
                    title: "äººå·¥æ™ºèƒ½åœ¨åŒ»ç–—é¢†åŸŸå–å¾—æ–°çªç ´",
                    description: "æœ€æ–°ç ”ç©¶æ˜¾ç¤ºï¼ŒAIåœ¨ç–¾ç—…è¯Šæ–­æ–¹é¢çš„å‡†ç¡®ç‡å·²ç»è¶…è¿‡äº†äººç±»åŒ»ç”Ÿ",
                    link: "#",
                    source: "AIç ”ç©¶å‰æ²¿",
                    category: "åŒ»ç–—AI",
                    pubDate: new Date().toISOString(),
                    aiScore: 9.2
                },
                {
                    title: "ChatGPT-5å³å°†å‘å¸ƒï¼Œèƒ½åŠ›å†æ¬¡å¤§å¹…æå‡",
                    description: "OpenAIå®˜æ–¹é€éœ²ï¼Œæ–°ç‰ˆæœ¬å°†åœ¨é€»è¾‘æ¨ç†å’Œå¤šæ¨¡æ€å¤„ç†æ–¹é¢æœ‰é‡å¤§æ”¹è¿›",
                    link: "#",
                    source: "AIè¡Œä¸šåŠ¨æ€",
                    category: "èŠå¤©æœºå™¨äºº",
                    pubDate: new Date(Date.now() - 86400000).toISOString(),
                    aiScore: 9.8
                },
                {
                    title: "Googleå‘å¸ƒæ–°AIæ¨¡å‹Gemini Pro 1.5",
                    description: "æ”¯æŒ100ä¸‡tokenä¸Šä¸‹æ–‡ï¼Œåœ¨å¤šæ¨¡æ€ç†è§£æ–¹é¢è¡¨ç°ä¼˜å¼‚",
                    link: "#",
                    source: "ç§‘æŠ€èµ„è®¯",
                    category: "å¤§è¯­è¨€æ¨¡å‹",
                    pubDate: new Date(Date.now() - 172800000).toISOString(),
                    aiScore: 8.9
                }
            ]
        };

        // AIæ–°é—»å¤„ç†å™¨ç±» - ç®€åŒ–ç‰ˆï¼ˆGitHub Actions + JSONæ•°æ®ï¼‰
        class AINewsProcessor {
            constructor() {
                this.articles = [];
                this.isProcessing = false;
                this.cacheTimestamp = 0;
            }

            async init() {
                console.log('ğŸš€ AiNavHubç³»ç»Ÿåˆå§‹åŒ–...');

                this.showLoading();

                try {
                    // æ£€æŸ¥æœ¬åœ°ç¼“å­˜
                    const cachedArticles = this.getLocalCache();
                    console.log('ğŸ“ ç¼“å­˜çŠ¶æ€:', { cached: !!cachedArticles, cacheValid: this.isCacheValid() });

                    if (cachedArticles && this.isCacheValid()) {
                        console.log('âœ… ä½¿ç”¨æœ¬åœ°ç¼“å­˜æ•°æ®');
                        this.articles = cachedArticles;
                        this.renderArticles(this.articles);
                        this.updateLastUpdateTime();
                        console.log('ğŸ“‹ ç¼“å­˜æ¸²æŸ“å®Œæˆ');
                        return;
                    }

                    console.log('ğŸ”„ å‡†å¤‡åŠ è½½AIæ–°é—»æ•°æ®...');
                    const articles = await this.loadArticles();
                    console.log('ğŸ“Š æ•°æ®åŠ è½½ç»“æœ:', articles.length, 'ç¯‡æ–‡ç« ');

                    if (articles.length > 0) {
                        this.articles = articles;
                        this.renderArticles(this.articles);
                        this.setLocalCache(this.articles);
                        console.log(`âœ… æˆåŠŸåŠ è½½å¹¶æ¸²æŸ“ ${articles.length} ç¯‡æ–°é—»`);
                    } else {
                        console.log('âš ï¸ æ²¡æœ‰æ‰¾åˆ°æ–‡ç« ï¼Œä½¿ç”¨å¤‡ç”¨æ•°æ®');
                        this.showFallbackData();
                    }

                    this.updateLastUpdateTime();
                    console.log('ğŸ¯ åˆå§‹åŒ–å®Œæˆ');

                } catch (error) {
                    console.error('âŒ ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥:', error);
                    console.error('é”™è¯¯è¯¦æƒ…:', error.stack);
                    this.showError('æ•°æ®åŠ è½½å¤±è´¥ï¼Œå³å°†ä½¿ç”¨æ¼”ç¤ºæ•°æ®');

                    // æ˜¾ç¤ºå¤‡ç”¨æ•°æ®é¿å…ç©ºç™½é¡µé¢
                    console.log('â° 2ç§’åæ˜¾ç¤ºå¤‡ç”¨æ•°æ®');
                    setTimeout(() => {
                        this.showFallbackData();
                        this.updateLastUpdateTime();
                    }, 2000);
                }
            }

            async loadArticles() {
                try {
                    console.log('ğŸ“¡ å¼€å§‹åŠ è½½AIæ–°é—»æ•°æ®ï¼Œæ•°æ®æº:', AINewsConfig.dataPath);

                    // ä¸»è¦æ–¹æ¡ˆï¼šä»GitHubä»“åº“çš„data/rss-data.jsonåŠ è½½
                    const primaryResponse = await fetch(AINewsConfig.dataPath);
                    console.log('ğŸ” ä¸»æ–‡ä»¶å“åº”çŠ¶æ€ç :', primaryResponse.status);

                    if (primaryResponse.ok) {
                        let data;
                        try {
                            data = await primaryResponse.json();
                            console.log('ğŸ“Š ä¸»æ–‡ä»¶JSONè§£ææˆåŠŸ, æ•°æ®æ ¼å¼éªŒè¯:', !!data);
                        } catch (jsonError) {
                            console.error('âŒ ä¸»æ–‡ä»¶JSONè§£æå¤±è´¥:', jsonError);
                            data = null;
                        }

                        if (data && data.articles && Array.isArray(data.articles) && data.articles.length > 0) {
                            console.log(`âœ… ä¸»æ•°æ®åŠ è½½æˆåŠŸï¼š${data.articles.length} ç¯‡æ–°é—»`);
                            return this.processArticles(data.articles);
                        } else {
                            console.log('âš ï¸ ä¸»æ•°æ®æ ¼å¼é”™è¯¯æˆ–ä¸ºç©ºï¼Œä½¿ç”¨å¤‡ç”¨æ•°æ®');
                            return await this.loadFromBackup();
                        }
                    } else {
                        console.log(`âš ï¸ ä¸»æ–‡ä»¶HTTPé”™è¯¯: ${primaryResponse.status}, ä½¿ç”¨å¤‡ç”¨æ•°æ®`);
                        return await this.loadFromBackup();
                    }
                } catch (fetchError) {
                    console.error('âŒ ä¸»æ–‡ä»¶ç½‘ç»œè¯·æ±‚å¤±è´¥:', fetchError);
                    return await this.loadFromBackup();
                }
            }

            async loadFromBackup() {
                console.log('ğŸ”„ å°è¯•å¤‡ç”¨æ•°æ®æº...');

                try {
                    const backupResponse = await fetch('./data/rss-data-simple.json');
                    console.log('ğŸ” å¤‡ç”¨æ–‡ä»¶å“åº”çŠ¶æ€ç :', backupResponse.status);

                    if (backupResponse.ok) {
                        let data;
                        try {
                            data = await backupResponse.json();
                            console.log('ğŸ“Š å¤‡ç”¨æ–‡ä»¶JSONè§£ææˆåŠŸ');
                        } catch (jsonError) {
                            console.error('âŒ å¤‡ç”¨æ–‡ä»¶JSONè§£æå¤±è´¥:', jsonError);
                            return await this.useLocalDemoData();
                        }

                        if (data && data.articles && Array.isArray(data.articles) && data.articles.length > 0) {
                            console.log(`âœ… å¤‡ç”¨æ•°æ®åŠ è½½æˆåŠŸï¼š${data.articles.length} ç¯‡æ–°é—»`);
                            return this.processArticles(data.articles);
                        } else {
                            console.log('âš ï¸ å¤‡ç”¨æ•°æ®æ ¼å¼é”™è¯¯æˆ–ä¸ºç©º');
                            return await this.useLocalDemoData();
                        }
                    } else {
                        console.log(`âš ï¸ å¤‡ç”¨æ–‡ä»¶HTTPé”™è¯¯: ${backupResponse.status}`);
                        return await this.useLocalDemoData();
                    }
                } catch (backupError) {
                    console.error('âŒ å¤‡ç”¨æ–‡ä»¶ç½‘ç»œè¯·æ±‚å¤±è´¥:', backupError);
                    return await this.useLocalDemoData();
                }
            }

            async useLocalDemoData() {
                console.log('âœ… ä½¿ç”¨å†…ç½®æ¼”ç¤ºæ•°æ®ï¼ˆå¤‡ç”¨æ–¹æ¡ˆï¼‰ï¼Œå‡†å¤‡å¤„ç†', AINewsConfig.fallbackData.length, 'ç¯‡æ–‡ç« ');
                const processedFallback = this.processArticles(AINewsConfig.fallbackData);
                console.log('ğŸ¨ å¤‡ç”¨æ•°æ®å¤„ç†å®Œæˆï¼Œç”Ÿæˆäº†', processedFallback.length, 'ç¯‡æ–‡ç« ');
                return processedFallback;
            }

            processArticles(rawArticles) {
                if (!rawArticles || !Array.isArray(rawArticles)) {
                    return [];
                }

                return rawArticles.map(article => {
                    try {
                        // ç¡®ä¿å¿…è¦å­—æ®µå­˜åœ¨
                        const title = article.title || 'æ— æ ‡é¢˜';
                        const description = article.summary || article.description || title;
                        const link = article.link || '#';
                        const source = article.source || 'AIèµ„è®¯èšåˆ';
                        const category = article.category || 'AIåŠ¨æ€';
                        const pubDate = article.pubDate || article.date || new Date().toISOString();
                        const aiScore = article.aiScore || 5.0;

                        // ç”Ÿæˆä¸­æ–‡æ‘˜è¦
                        const summaryZh = this.generateChineseContent(title, description);

                        // æ¨èç›¸å…³AIå·¥å…·
                        const relatedTools = this.findRelatedTools(title, description);

                        return {
                            id: this.generateArticleId(title, link),
                            title: title,
                            titleZh: title.replace(/AI/g, 'äººå·¥æ™ºèƒ½').substring(0, 60),
                            summary: (description || title).substring(0, 180),
                            summaryZh: summaryZh,
                            url: link,
                            source: source,
                            category: category,
                            publishTime: pubDate,
                            aiScore: Math.min(Math.max(aiScore, 1), 10), // ç¡®ä¿åœ¨1-10èŒƒå›´å†…
                            author: article.author || 'AIèµ„è®¯ç¼–è¾‘',
                            matchedTools: relatedTools
                        };
                    } catch (error) {
                        console.warn('å¤„ç†å•ç¯‡æ–‡ç« å¤±è´¥:', error, article);
                        return null;
                    }
                }).filter(Boolean); // ç§»é™¤å¤„ç†å¤±è´¥çš„é¡¹ç›®
            }

            // å®‰å…¨ç”Ÿæˆæ–‡ç« IDï¼Œé¿å…btoaç¼–ç é—®é¢˜
            generateArticleId(title, link) {
                // ä½¿ç”¨ç®€å•çš„å“ˆå¸Œå‡½æ•°ç”ŸæˆID
                let hash = 0;
                const str = title + link;
                for (let i = 0; i < str.length; i++) {
                    const char = str.charCodeAt(i);
                    hash = ((hash << 5) - hash) + char;
                    hash = hash & hash; // è½¬æ¢ä¸º32ä½æ•´æ•°
                }
                return Math.abs(hash).toString(36).substr(0, 16);
            }

            generateChineseContent(title, description) {
                const fullText = (title + ' ' + description).toLowerCase();

                // å¦‚æœæ˜¯ä¸­æ–‡å†…å®¹ï¼Œç›´æ¥è¿”å›æ‘˜è¦
                const chineseMatches = fullText.match(/[ä¸€-é¾¥]+/g) || [];
                if (chineseMatches.length > 0 && chineseMatches.join('').length > 20) {
                    return chineseMatches.join('').substring(0, 120) + '...';
                }

                // æ™ºèƒ½ä¸­æ–‡æ‘˜è¦ç”Ÿæˆ
                let summary = '';
                const keyPhrases = [
                    'artificial intelligence', 'AI', 'machine learning', 'deep learning',
                    'neural network', 'natural language', 'computer vision', 'robotics'
                ];

                if (keyPhrases.some(phrase => fullText.includes(phrase))) {
                    summary = 'äººå·¥æ™ºèƒ½é¢†åŸŸæœ€æ–°è¿›å±•ï¼š';
                } else {
                    summary = 'AIç›¸å…³èµ„è®¯ï¼š';
                }

                const cleanDesc = description.replace(/<[^>]+>/g, '').substring(0, 80);
                return summary + cleanDesc + '...';
            }

            findRelatedTools(title, description) {
                const articleText = (title + ' ' + description).toLowerCase();
                const matchedTools = [];

                for (const tool of AINewsConfig.aiTools) {
                    let score = 0;
                    const matchedKeywords = [];

                    for (const keyword of tool.keywords) {
                        if (articleText.includes(keyword.toLowerCase())) {
                            score += 1;
                            matchedKeywords.push(keyword);
                        }
                    }

                    if (score >= 1) {
                        matchedTools.push({
                            tool_name: tool.name,
                            tool_category: tool.category,
                            tool_url: '#', // åç»­å¯ä»¥é…ç½®å…·ä½“å·¥å…·é“¾æ¥
                            reason: `ç›¸å…³å†…å®¹: ${matchedKeywords[0] || 'AIæŠ€æœ¯'}`,
                            score: score
                        });
                    }
                }

                return matchedTools.sort((a, b) => b.score - a.score).slice(0, 3);
            }
            
            // Load tools from JSON file
            async loadTools() {
                try {
                    const response = await fetch(AINewsConfig.toolsDataPath);
                    if (response.ok) {
                        const data = await response.json();
                        if (data && data.tools && Array.isArray(data.tools)) {
                            console.log(`âœ… å·¥å…·æ•°æ®åŠ è½½æˆåŠŸ: ${data.tools.length} ä¸ªå·¥å…·`);
                            AINewsConfig.aiTools = data.tools; // Update the config with loaded tools
                            return data.tools;
                        }
                    }
                    console.log('âš ï¸ å·¥å…·æ•°æ®åŠ è½½å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤æ•°æ®');
                    return AINewsConfig.aiTools;
                } catch (error) {
                    console.error('âŒ åŠ è½½å·¥å…·æ•°æ®å¤±è´¥:', error);
                    return AINewsConfig.aiTools;
                }
            }
            
            // Load products from JSON file
            async loadProducts() {
                try {
                    const response = await fetch(AINewsConfig.productsDataPath);
                    if (response.ok) {
                        const data = await response.json();
                        if (data && data.products && Array.isArray(data.products)) {
                            console.log(`âœ… äº§å“æ•°æ®åŠ è½½æˆåŠŸ: ${data.products.length} ä¸ªäº§å“`);
                            return data.products;
                        }
                    }
                    console.log('âš ï¸ äº§å“æ•°æ®åŠ è½½å¤±è´¥');
                    return [];
                } catch (error) {
                    console.error('âŒ åŠ è½½äº§å“æ•°æ®å¤±è´¥:', error);
                    return [];
                }
            }
            
            // Load learning resources from JSON file
            async loadLearningResources() {
                try {
                    const response = await fetch(AINewsConfig.learningDataPath);
                    if (response.ok) {
                        const data = await response.json();
                        if (data && data.resources && Array.isArray(data.resources)) {
                            console.log(`âœ… å­¦ä¹ èµ„æºæ•°æ®åŠ è½½æˆåŠŸ: ${data.resources.length} ä¸ªèµ„æº`);
                            return data.resources;
                        }
                    }
                    console.log('âš ï¸ å­¦ä¹ èµ„æºæ•°æ®åŠ è½½å¤±è´¥');
                    return [];
                } catch (error) {
                    console.error('âŒ åŠ è½½å­¦ä¹ èµ„æºæ•°æ®å¤±è´¥:', error);
                    return [];
                }
            }
            
            // Load topics from JSON file
            async loadTopics() {
                try {
                    const response = await fetch(AINewsConfig.topicsDataPath);
                    if (response.ok) {
                        const data = await response.json();
                        if (data && data.topics && Array.isArray(data.topics)) {
                            console.log(`âœ… ä¸“é¢˜æ•°æ®åŠ è½½æˆåŠŸ: ${data.topics.length} ä¸ªä¸“é¢˜`);
                            return data.topics;
                        }
                    }
                    console.log('âš ï¸ ä¸“é¢˜æ•°æ®åŠ è½½å¤±è´¥');
                    return [];
                } catch (error) {
                    console.error('âŒ åŠ è½½ä¸“é¢˜æ•°æ®å¤±è´¥:', error);
                    return [];
                }
            }
            
            // åˆ†ç±»æ–‡ç« 
            categorizeArticle(article) {
                const title = (article.title || '').toLowerCase();
                const description = (article.description || article.summary || '').toLowerCase();
                const fullText = (title + ' ' + description).toLowerCase();
                
                // Industry news keywords
                const industryKeywords = ['business', 'market', 'funding', 'company', 'investment', 'startup', 'enterprise', 'industry', 'commercial', 'launch', 'product'];
                
                // Tech frontiers keywords
                const techKeywords = ['research', 'model', 'algorithm', 'technical', 'science', 'study', 'development', 'innovation', 'breakthrough', 'method', 'architecture'];
                
                // Application hotspots keywords
                const applicationKeywords = ['use', 'application', 'tool', 'platform', 'solution', 'product', 'implementation', 'real-world', 'practical', 'case study'];
                
                // Count keywords for each category
                const industryCount = industryKeywords.filter(keyword => fullText.includes(keyword)).length;
                const techCount = techKeywords.filter(keyword => fullText.includes(keyword)).length;
                const appCount = applicationKeywords.filter(keyword => fullText.includes(keyword)).length;
                
                // Determine primary category based on keyword counts
                if (techCount >= industryCount && techCount >= appCount) {
                    return 'æŠ€æœ¯å‰æ²¿';
                } else if (appCount >= industryCount && appCount >= techCount) {
                    return 'åº”ç”¨çƒ­ç‚¹';
                } else if (industryCount > 0) {
                    return 'è¡Œä¸šæ–°é—»';
                }
                
                // Default category
                return 'AIåŠ¨æ€';
            }
            
            // è¿‡æ»¤æ–°é—»
            filterNews(category) {
                const container = document.getElementById('ai-news-content');
                if (!container) return;
                
                let articles = this.articles || AINewsSystem.getArticles();
                
                if (category !== 'all') {
                    articles = articles.filter(article => {
                        const articleCategory = this.categorizeArticle(article);
                        return articleCategory === category || 
                               (category === 'industry' && articleCategory === 'è¡Œä¸šæ–°é—»') ||
                               (category === 'tech' && articleCategory === 'æŠ€æœ¯å‰æ²¿') ||
                               (category === 'application' && articleCategory === 'åº”ç”¨çƒ­ç‚¹');
                    });
                }
                
                if (articles.length === 0) {
                    const labelMap = { all: 'å…¨éƒ¨', industry: 'è¡Œä¸šæ–°é—»', tech: 'æŠ€æœ¯å‰æ²¿', application: 'åº”ç”¨çƒ­ç‚¹' };
                    const displayCategory = labelMap[category] || 'å…¨éƒ¨';
                    
                    // å¦‚æœç³»ç»Ÿå†…è¿˜æ²¡æœ‰ä»»ä½•æ–‡ç« æ•°æ®ï¼Œä¸”ç”¨æˆ·æŸ¥çœ‹â€œå…¨éƒ¨â€ï¼Œè‡ªåŠ¨ä½¿ç”¨æ¼”ç¤ºæ•°æ®å…œåº•
                    if ((!this.articles || this.articles.length === 0) && category === 'all') {
                        const fb = this.processArticles(AINewsConfig.fallbackData);
                        this.articles = fb;
                        this.renderArticles(fb);
                        this.updateActiveNewsFilter('all');
                        return;
                    }

                    container.innerHTML = `
                        <div class="text-center py-16 bg-white dark:bg-gray-800 rounded-lg shadow-sm">
                            <i class="fas fa-newspaper text-4xl text-gray-400 mb-4"></i>
                            <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-2">æ²¡æœ‰æ‰¾åˆ°æ–°é—»</h3>
                            <p class="text-gray-500">åœ¨â€œ${displayCategory}â€ç±»åˆ«ä¸­æš‚æ— æ–°é—»ï¼Œè¯·ç¨åå†è¯•</p>
                            <button onclick="AINewsSystem.update()" class="mt-4 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                                <i class="fas fa-redo mr-2"></i>åˆ·æ–°æ–°é—»
                            </button>
                        </div>
                    `;
                    return;
                }

                const html = articles.map(article => this.generateArticleHTML_simple(article)).join('');
                container.innerHTML = html;
                
                // Update active filter button
                this.updateActiveNewsFilter(category);
            }
            
            // æ›´æ–°æ–°é—»æ´»åŠ¨è¿‡æ»¤å™¨çŠ¶æ€
            updateActiveNewsFilter(activeCategory) {
                const filterButtons = document.querySelectorAll('.news-filter-btn');
                filterButtons.forEach(btn => {
                    if (btn.getAttribute('data-filter') === activeCategory) {
                        btn.classList.remove('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                        btn.classList.add('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                    } else {
                        btn.classList.remove('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                        btn.classList.add('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                    }
                });
            }

            // æ˜¾ç¤ºå¤‡ç”¨æ•°æ®ï¼ˆé¿å…ç©ºç™½é¡µé¢ï¼‰
            showFallbackData() {
                console.log('ğŸ”„ æ˜¾ç¤ºå¤‡ç”¨æ•°æ®');
                try {
                    const fallbackArticles = this.processArticles(AINewsConfig.fallbackData);
                    console.log('ğŸ”§ å¤‡ç”¨æ•°æ®å¤„ç†åæ–‡ç« æ•°:', fallbackArticles.length);

                    // å…ˆæ¸²æŸ“æ–‡ç« 
                    this.renderArticles(fallbackArticles);

                    // å†æ·»åŠ æç¤ºä¿¡æ¯
                    console.log('ğŸ’¡ æ·»åŠ æ¼”ç¤ºæ•°æ®æç¤º');
                    setTimeout(() => { // ç¡®ä¿DOMæ¸²æŸ“å®Œæˆåå†æ’å…¥æç¤º
                        const container = document.getElementById('ai-news-content');
                        if (container) {
                            const notice = document.createElement('div');
                            notice.className = 'bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 text-center';
                            notice.innerHTML = `
                                <p class="text-yellow-800">
                                    <i class="fas fa-info-circle mr-2"></i>
                                    å½“å‰æ˜¾ç¤ºæ¼”ç¤ºæ•°æ®ï¼Œå®šæ—¶ä»»åŠ¡å°†åœ¨ä¸‹æ¬¡è¿è¡Œæ—¶è·å–æœ€æ–°AIæ–°é—»
                                </p>
                            `;
                            container.insertBefore(notice, container.firstChild);
                        } else {
                            console.warn('âš ï¸ æ‰¾ä¸åˆ°æ–°é—»å®¹å™¨å…ƒç´ ');
                        }
                    }, 100);
                } catch (error) {
                    console.error('âŒ æ˜¾ç¤ºå¤‡ç”¨æ•°æ®å¤±è´¥:', error);
                    this.showError('æ— æ³•åŠ è½½æ¼”ç¤ºæ•°æ®');
                }
            }

            // æœ¬åœ°ç¼“å­˜ç®¡ç†
            getLocalCache() {
                try {
                    const cached = localStorage.getItem(AINewsConfig.cacheKey);
                    if (cached) {
                        const data = JSON.parse(cached);
                        this.cacheTimestamp = data.timestamp || 0;
                        return data.articles || [];
                    }
                } catch (error) {
                    console.warn('æœ¬åœ°ç¼“å­˜è¯»å–å¤±è´¥:', error);
                }
                return null;
            }

            setLocalCache(articles) {
                try {
                    const data = {
                        articles: articles,
                        timestamp: Date.now(),
                        version: '2.0'
                    };
                    localStorage.setItem(AINewsConfig.cacheKey, JSON.stringify(data));
                    this.cacheTimestamp = data.timestamp;

                    console.log('âœ… æœ¬åœ°ç¼“å­˜ä¿å­˜æˆåŠŸ');
                } catch (error) {
                    console.error('æœ¬åœ°ç¼“å­˜ä¿å­˜å¤±è´¥:', error);
                }
            }

            isCacheValid() {
                if (!this.cacheTimestamp) return false;
                return (Date.now() - this.cacheTimestamp) < AINewsConfig.cacheTimeout;
            }

            // æ›´æ–°æ—¶é—´æ˜¾ç¤º
            updateLastUpdateTime() {
                const timeElement = document.getElementById('last-update-time');
                if (timeElement) {
                    const now = new Date();
                    const timeStr = now.toLocaleString('zh-CN', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit',
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                    timeElement.textContent = 'åˆšåˆšæ›´æ–° - ' + timeStr;
                    timeElement.title = 'æœ€æ–°æ•°æ®å·²æ›´æ–°';
                }
            }

            recommendTools(title, content) {
                const articleText = (title + ' ' + content).toLowerCase();
                const recommendations = [];

                for (const tool of AINewsConfig.aiTools) {
                    let score = 0;
                    let matchedWords = [];

                    for (const keyword of tool.keywords) {
                        if (articleText.includes(keyword.toLowerCase())) {
                            score += 1;
                            matchedWords.push(keyword);
                        }
                    }

                    if (score >= 2) {
                        recommendations.push({
                            tool_name: tool.name,
                            tool_category: tool.category,
                            tool_url: tool.url || '#',
                            reason: `ç›¸å…³æŠ€æœ¯: ${matchedWords.slice(0, 2).join(', ')}`,
                            score: score
                        });
                    }
                }

                return recommendations.sort((a, b) => b.score - a.score).slice(0, 3);
            }

            renderArticles(articles) {
                const container = document.getElementById('ai-news-content');

                if (!articles || articles.length === 0) {
                    container.innerHTML = this.generateEmptyState();
                    return;
                }

                const html = articles.map(article => this.generateArticleHTML_simple(article)).join('');
                container.innerHTML = html;

                console.log(`ğŸ¨ æˆåŠŸæ¸²æŸ“ ${articles.length} ç¯‡AIèµ„è®¯`);

                // ä¿å­˜åˆ°æœ¬åœ°ç¼“å­˜
                this.saveToLocal(articles);
            }

            // ä¿å­˜æ•°æ®åˆ°æœ¬åœ°ç¼“å­˜
            saveToLocal(articles) {
                try {
                    const cacheData = {
                        articles: articles,
                        timestamp: Date.now(),
                        version: '1.0.0'
                    };
                    localStorage.setItem('ainavhub_cache', JSON.stringify(cacheData));
                    console.log('âœ… æ•°æ®å·²ä¿å­˜åˆ°æœ¬åœ°ç¼“å­˜');
                } catch (error) {
                    console.warn('âš ï¸ æœ¬åœ°ç¼“å­˜ä¿å­˜å¤±è´¥:', error);
                }
            }

            generateArticleHTML_simple(article) {
                const publishDate = new Date(article.publishTime).toLocaleDateString('zh-CN');
                const aiScoreDisplay = Math.round(article.aiScore * 10) / 10; // ä¿ç•™ä¸€ä½å°æ•°
                const category = this.categorizeArticle(article);

                return `
                    <article class="bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-6 hover:shadow-lg transition-all duration-300 border-l-4 border-blue-500">
                        <div class="flex flex-col space-y-4">
                            <div class="flex items-start justify-between space-x-4">
                                <h3 class="text-xl font-bold text-gray-900 dark:text-white leading-tight flex-1">
                                    <a href="${article.url}" target="_blank" rel="noopener"
                                       class="block hover:text-blue-600 dark:hover:text-blue-400 transition-colors hover:underline">
                                        ${article.titleZh || article.title}
                                        <i class="fas fa-external-link-alt ml-2 text-xs"></i>
                                    </a>
                                </h3>
                                <div class="flex items-center space-x-2">
                                    <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full border">
                                        <i class="fas fa-robot mr-1"></i>${aiScoreDisplay}/10
                                    </span>
                                    <span class="px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded">${category}</span>
                                </div>
                            </div>

                            <div class="text-gray-700 dark:text-gray-300 text-sm leading-relaxed bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg">
                                <i class="fas fa-language text-blue-600 mr-2"></i>
                                ${article.summaryZh || article.summary}
                            </div>

                            <div class="flex flex-wrap items-center justify-between text-sm text-gray-600 dark:text-gray-400 gap-4">
                                <div class="flex items-center space-x-4">
                                    <span class="flex items-center" title="å‘å¸ƒæ—¶é—´">
                                        <i class="far fa-calendar-alt mr-2"></i> ${publishDate}
                                    </span>
                                    <span class="flex items-center" title="æ¥æº">
                                        <i class="far fa-newspaper mr-2"></i> ${article.source}
                                    </span>
                                    ${article.author ? `<span class="flex items-center" title="ä½œè€…">
                                        <i class="far fa-user mr-2"></i> ${article.author}
                                    </span>` : ''}
                                </div>

                                ${article.matchedTools && article.matchedTools.length > 0 ?
                                    `<div class="flex items-center space-x-2">
                                        <span class="text-xs text-gray-500">ç›¸å…³æ¨è:</span>
                                        ${article.matchedTools.slice(0, 2).map(tool =>
                                            `<span class="px-2 py-1 text-xs bg-green-100 text-green-800 rounded cursor-pointer"
                                                   title="${tool.reason || 'ç›¸å…³AIæŠ€æœ¯'}">
                                                <i class="fas fa-cog mr-1"></i>${tool.tool_name}
                                            </span>`
                                        ).join('')}
                                    </div>` : ''
                                }
                            </div>
                        </div>
                    </article>
                `;
            }

            generateEmptyState() {
                return `
                    <div class="text-center py-16 bg-white dark:bg-gray-800 rounded-lg shadow-sm">
                        <div class="text-6xl mb-6">ğŸ“°</div>
                        <h3 class="text-xl font-semibold text-gray-800 dark:text-white mb-2">æš‚æ— AIèµ„è®¯</h3>
                        <p class="text-gray-500 mb-4">æˆ‘ä»¬æ­£åœ¨ä¸ºæ‚¨å‡†å¤‡æœ€æ–°çš„AIæ–°é—»ï¼Œè¯·ç¨åå†è¯•</p>
                        <button onclick="location.reload()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                            <i class="fas fa-redo mr-2"></i>é‡æ–°åŠ è½½
                        </button>
                    </div>
                `;
            }

            showLoading() {
                const container = document.getElementById('ai-news-content');
                if (container) {
                    container.innerHTML = `
                        <div class="text-center py-12">
                            <div class="inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600 mb-4"></div>
                            <p class="text-gray-600 dark:text-gray-400 text-lg">æ­£åœ¨åŠ è½½AIèµ„è®¯...</p>
                            <p class="text-sm text-gray-500 dark:text-gray-500 mt-2">é¦–æ¬¡åŠ è½½éœ€è¦5-10ç§’</p>
                        </div>
                    `;
                }
            }

            showError(message) {
                const container = document.getElementById('ai-news-content');
                if (container) {
                    container.innerHTML = `
                        <div class="text-center py-16 text-gray-500 dark:text-gray-400">
                            <i class="fas fa-exclamation-triangle text-4xl mb-4 text-yellow-500"></i>
                            <p class="mb-2">èµ„è®¯åŠ è½½å¤±è´¥</p>
                            <p class="text-xs text-gray-400 mb-4">${message}</p>
                            <button onclick="AINewsSystem.update()" class="text-blue-600 hover:text-blue-800">
                                <i class="fas fa-redo mr-1"></i>é‡è¯•
                            </button>
                        </div>
                    `;
                }
            }

            // ç”Ÿæˆå·¥å…·å¡ç‰‡HTML
            generateToolHTML(tool) {
                // Check if this tool is in favorites
                const isFavorite = this.isToolFavorite(tool.name);
                const favoriteClass = isFavorite ? 'text-red-500' : 'text-gray-300 hover:text-red-500';
                const favoriteIcon = isFavorite ? 'fas fa-heart' : 'fas fa-heart border border-gray-300 dark:border-gray-600 rounded-full p-2';
                
                return `
                    <div class="bg-white dark:bg-gray-700 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-600 hover:shadow-lg transition-shadow duration-300 relative h-full flex flex-col">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center mr-4">
                                <i class="fas fa-${tool.icon || 'cog'} text-white text-lg"></i>
                            </div>
                            <h4 class="text-lg font-bold text-gray-900 dark:text-white">${tool.name}</h4>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3">${tool.description}</p>
                        <div class="flex justify-between items-center mt-auto pt-4">
                            <span class="px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded">${tool.category}</span>
                            <a href="${tool.url || '#'}" target="_blank" class="text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium">
                                è®¿é—®å·¥å…· <i class="fas fa-external-link-alt ml-1"></i>
                            </a>
                        </div>
                        <button class="favorite-btn absolute top-4 right-4 p-2" data-tool="${tool.name}">
                            <i class="${favoriteIcon}"></i>
                        </button>
                    </div>
                `;
            }

            // ç”Ÿæˆäº§å“å¡ç‰‡HTML
            generateProductHTML(product) {
                // Determine hotness badge based on score if available
                let hotnessBadge = '<span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded">çƒ­é—¨</span>';
                if (product.hotnessScore) {
                    if (product.hotnessScore >= 9) {
                        hotnessBadge = '<span class="px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded">ğŸ”¥ çˆ†æ¬¾</span>';
                    } else if (product.hotnessScore >= 7) {
                        hotnessBadge = '<span class="px-2 py-1 bg-orange-100 text-orange-800 text-xs font-medium rounded">ğŸ”¥ çƒ­é—¨</span>';
                    } else if (product.hotnessScore >= 5) {
                        hotnessBadge = '<span class="px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-medium rounded"> trending</span>';
                    }
                }
                
                // Add hotness rank if available
                let hotnessRank = '';
                if (product.rank) {
                    hotnessRank = `
                        <div class="absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white text-xs font-bold w-6 h-6 rounded-full flex items-center justify-center">
                            ${product.rank}
                        </div>
                    `;
                }

                return `
                    <div class="bg-white dark:bg-gray-700 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-600 hover:shadow-lg transition-shadow duration-300 relative h-full flex flex-col">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center mr-4">
                                <i class="fas fa-star text-white text-lg"></i>
                            </div>
                            <h4 class="text-lg font-bold text-gray-900 dark:text-white">${product.name}</h4>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">${product.description}</p>
                        <div class="flex justify-between items-center mt-auto pt-4">
                            ${hotnessBadge}
                            <a href="${product.url}" target="_blank" class="text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium">
                                äº†è§£æ›´å¤š <i class="fas fa-external-link-alt ml-1"></i>
                            </a>
                        </div>
                        ${hotnessRank}
                    </div>
                `;
            }
            
            // è¿‡æ»¤äº§å“
            async filterProducts(category) {
                const container = document.getElementById('products-content');
                if (!container) return;
                
                // Load products from JSON file
                let products = await this.loadProducts();
                
                if (category !== 'all') {
                    products = products.filter(product => 
                        product.category && 
                        (product.category.toLowerCase().includes(category) || 
                         product.category.toLowerCase().replace(/\s+/g, '').includes(category))
                    );
                }
                
                // Apply current sort
                const sortSelect = document.getElementById('products-sort');
                if (sortSelect) {
                    const sortBy = sortSelect.value;
                    products = this.sortProductsArray(products, sortBy);
                }
                
                if (products.length === 0) {
                    container.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <i class="fas fa-star text-4xl text-gray-400 mb-4"></i>
                            <p class="text-gray-500 dark:text-gray-400 text-lg">æœªæ‰¾åˆ° "${category}" ç±»åˆ«çš„äº§å“</p>
                            <p class="text-gray-400 dark:text-gray-500 mt-2">è¯·é€‰æ‹©å…¶ä»–ç±»åˆ«</p>
                        </div>
                    `;
                    return;
                }

                // Add rank to the products for hotness display
                const productsWithRank = products.map((product, index) => ({
                    ...product,
                    rank: index + 1
                }));

                const html = productsWithRank.map(product => this.generateProductHTML(product)).join('');
                container.innerHTML = html;
                
                // Update active filter button
                this.updateActiveProductFilter(category);
            }
            
            // æ’åºäº§å“
            async sortProducts(sortBy) {
                const container = document.getElementById('products-content');
                if (!container) return;
                
                // Get current filter
                const activeFilterBtn = document.querySelector('.product-filter-btn.bg-blue-500, .product-filter-btn.dark\\:bg-blue-600');
                let category = 'all';
                if (activeFilterBtn) {
                    category = activeFilterBtn.getAttribute('data-filter');
                }
                
                // Load products from JSON file
                let products = await this.loadProducts();
                
                if (category !== 'all') {
                    products = products.filter(product => 
                        product.category && 
                        (product.category.toLowerCase().includes(category) || 
                         product.category.toLowerCase().replace(/\s+/g, '').includes(category))
                    );
                }
                
                // Sort the products
                products = this.sortProductsArray(products, sortBy);
                
                if (products.length === 0) {
                    container.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <i class="fas fa-star text-4xl text-gray-400 mb-4"></i>
                            <p class="text-gray-500 dark:text-gray-400 text-lg">æœªæ‰¾åˆ°äº§å“</p>
                            <p class="text-gray-400 dark:text-gray-500 mt-2">è¯·å°è¯•å…¶ä»–ç­›é€‰æ¡ä»¶</p>
                        </div>
                    `;
                    return;
                }

                // Add rank to the products for hotness display
                const productsWithRank = products.map((product, index) => ({
                    ...product,
                    rank: index + 1
                }));

                const html = productsWithRank.map(product => this.generateProductHTML(product)).join('');
                container.innerHTML = html;
                
                // Update active filter button
                this.updateActiveProductFilter(category);
            }
            
            // å®é™…çš„äº§å“æ’åºå‡½æ•°
            sortProductsArray(products, sortBy) {
                switch(sortBy) {
                    case 'hotness':
                        return products.sort((a, b) => (b.hotnessScore || 0) - (a.hotnessScore || 0));
                    case 'name':
                        return products.sort((a, b) => a.name.localeCompare(b.name));
                    default:
                        // Default sorting - by hotness score
                        return products.sort((a, b) => (b.hotnessScore || 0) - (a.hotnessScore || 0));
                }
            }
            
            // æ›´æ–°äº§å“æ´»åŠ¨è¿‡æ»¤å™¨çŠ¶æ€
            updateActiveProductFilter(activeCategory) {
                const filterButtons = document.querySelectorAll('.product-filter-btn');
                filterButtons.forEach(btn => {
                    if (btn.getAttribute('data-filter') === activeCategory) {
                        btn.classList.remove('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                        btn.classList.add('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                    } else {
                        btn.classList.remove('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                        btn.classList.add('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                    }
                });
            }

            // ç”Ÿæˆå­¦ä¹ èµ„æºHTML
            generateLearningResourceHTML(resource) {
                return `
                    <div class="bg-white dark:bg-gray-700 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-600 hover:shadow-lg transition-shadow duration-300 h-full flex flex-col">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg flex items-center justify-center mr-4">
                                <i class="fas fa-${resource.icon || 'book'} text-white text-lg"></i>
                            </div>
                            <h4 class="text-lg font-bold text-gray-900 dark:text-white">${resource.title}</h4>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">${resource.description}</p>
                        <div class="flex justify-between items-center mt-auto pt-4">
                            <span class="px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded">${resource.category || resource.level || 'å…¥é—¨'}</span>
                            <a href="${resource.url}" target="_blank" class="text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium">
                                å¼€å§‹å­¦ä¹  <i class="fas fa-external-link-alt ml-1"></i>
                            </a>
                        </div>
                    </div>
                `;
            }
            
            // è¿‡æ»¤å­¦ä¹ èµ„æº
            async filterLearningResources(category) {
                const container = document.getElementById('learning-content');
                if (!container) return;
                
                // Load learning resources from JSON file
                let resources = await this.loadLearningResources();
                
                if (category !== 'all') {
                    resources = resources.filter(resource => 
                        resource.category && 
                        (resource.category.toLowerCase().includes(category) || 
                         resource.category.toLowerCase().replace(/\s+/g, '').includes(category))
                    );
                }
                
                if (resources.length === 0) {
                    container.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <i class="fas fa-graduation-cap text-4xl text-gray-400 mb-4"></i>
                            <p class="text-gray-500 dark:text-gray-400 text-lg">æœªæ‰¾åˆ° "${category}" ç±»åˆ«çš„å­¦ä¹ èµ„æº</p>
                            <p class="text-gray-400 dark:text-gray-500 mt-2">è¯·é€‰æ‹©å…¶ä»–ç±»åˆ«</p>
                        </div>
                    `;
                    return;
                }

                const html = resources.map(resource => this.generateLearningResourceHTML(resource)).join('');
                container.innerHTML = html;
                
                // Update active filter button
                this.updateActiveLearningFilter(category);
            }
            
            // æ›´æ–°å­¦ä¹ èµ„æºæ´»åŠ¨è¿‡æ»¤å™¨çŠ¶æ€
            updateActiveLearningFilter(activeCategory) {
                const filterButtons = document.querySelectorAll('.learning-filter-btn');
                filterButtons.forEach(btn => {
                    if (btn.getAttribute('data-filter') === activeCategory) {
                        btn.classList.remove('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                        btn.classList.add('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                    } else {
                        btn.classList.remove('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                        btn.classList.add('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                    }
                });
            }

            // ç”Ÿæˆä¸“é¢˜HTML
            generateTopicHTML(topic) {
                return `
                    <div class="bg-white dark:bg-gray-700 rounded-lg shadow p-6 border border-gray-200 dark:border-gray-600 hover:shadow-lg transition-shadow duration-300">
                        <div class="flex items-center mb-4">
                            <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center mr-4">
                                <i class="fas fa-${topic.icon || 'bookmark'} text-white text-lg"></i>
                            </div>
                            <h4 class="text-lg font-bold text-gray-900 dark:text-white">${topic.name}</h4>
                        </div>
                        <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">${topic.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded">ä¸“é¢˜</span>
                            <a href="${topic.url}" target="_blank" class="text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm font-medium">
                                æ·±å…¥äº†è§£ <i class="fas fa-external-link-alt ml-1"></i>
                            </a>
                        </div>
                    </div>
                `;
            }

            // æ¸²æŸ“å·¥å…·éƒ¨åˆ†
            async renderTools() {
                const container = document.getElementById('tools-content');
                if (!container) return;

                // Load tools from JSON file
                let tools = await this.loadTools();
                
                if (!tools || tools.length === 0) {
                    container.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <p class="text-gray-500 dark:text-gray-400">æš‚æ— å·¥å…·æ•°æ®</p>
                        </div>
                    `;
                    return;
                }

                // Apply default sorting
                const sortSelect = document.getElementById('tools-sort');
                if (sortSelect) {
                    const sortBy = sortSelect.value || 'name';
                    tools = this.sortToolsArray(tools, sortBy);
                }
                
                const html = tools.map(tool => this.generateToolHTML(tool)).join('');
                container.innerHTML = html;
                
                // Add default active state to 'all' filter button
                const allFilterBtn = document.querySelector('.filter-btn[data-filter="all"]');
                if (allFilterBtn) {
                    const filterButtons = document.querySelectorAll('.filter-btn');
                    filterButtons.forEach(btn => {
                        btn.classList.remove('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                        btn.classList.add('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                    });
                    
                    allFilterBtn.classList.remove('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                    allFilterBtn.classList.add('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                }
            }

            // æ¸²æŸ“çƒ­é—¨äº§å“éƒ¨åˆ†
            async renderProducts() {
                const container = document.getElementById('products-content');
                if (!container) return;

                // Load products from JSON file
                let products = await this.loadProducts();
                
                if (!products || products.length === 0) {
                    container.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <p class="text-gray-500 dark:text-gray-400">æš‚æ— äº§å“æ•°æ®</p>
                        </div>
                    `;
                    return;
                }

                // Apply default sorting
                const sortSelect = document.getElementById('products-sort');
                if (sortSelect) {
                    sortSelect.value = 'hotness';
                    products = this.sortProductsArray(products, sortSelect.value);
                }
                
                // Add rank to the products for hotness display
                const productsWithRank = products.map((product, index) => ({
                    ...product,
                    rank: index + 1
                }));

                const html = productsWithRank.map(product => this.generateProductHTML(product)).join('');
                container.innerHTML = html;
                
                // Update active filter button - default to 'all'
                const allFilterBtn = document.querySelector('.product-filter-btn[data-filter="all"]');
                if (allFilterBtn) {
                    const filterButtons = document.querySelectorAll('.product-filter-btn');
                    filterButtons.forEach(btn => {
                        btn.classList.remove('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                        btn.classList.add('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                    });
                    
                    allFilterBtn.classList.remove('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                    allFilterBtn.classList.add('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                }
            }

            // æ¸²æŸ“å­¦ä¹ èµ„æºéƒ¨åˆ†
            async renderLearningResources() {
                const container = document.getElementById('learning-content');
                if (!container) return;

                // Load learning resources from JSON file
                const resources = await this.loadLearningResources();
                
                if (!resources || resources.length === 0) {
                    container.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <p class="text-gray-500 dark:text-gray-400">æš‚æ— å­¦ä¹ èµ„æºæ•°æ®</p>
                        </div>
                    `;
                    return;
                }
                
                const html = resources.map(resource => this.generateLearningResourceHTML(resource)).join('');
                container.innerHTML = html;
                
                // Update active filter button - default to 'all'
                const allFilterBtn = document.querySelector('.learning-filter-btn[data-filter="all"]');
                if (allFilterBtn) {
                    const filterButtons = document.querySelectorAll('.learning-filter-btn');
                    filterButtons.forEach(btn => {
                        btn.classList.remove('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                        btn.classList.add('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                    });
                    
                    allFilterBtn.classList.remove('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                    allFilterBtn.classList.add('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                }
            }

            // æ¸²æŸ“ä¸“é¢˜éƒ¨åˆ†
            async renderTopics() {
                const container = document.getElementById('topics-content');
                if (!container) return;

                // Load topics from JSON file
                const topics = await this.loadTopics();
                
                if (!topics || topics.length === 0) {
                    container.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <p class="text-gray-500 dark:text-gray-400">æš‚æ— ä¸“é¢˜æ•°æ®</p>
                        </div>
                    `;
                    return;
                }

                const html = topics.map(topic => this.generateTopicHTML(topic)).join('');
                container.innerHTML = html;
            }

            // æœç´¢åŠŸèƒ½å®ç°
            async search(query) {
                if (!query || query.trim() === '') {
                    // å¦‚æœæœç´¢å†…å®¹ä¸ºç©ºï¼Œè¿”å›æ‰€æœ‰å†…å®¹çš„åˆå§‹çŠ¶æ€
                    await this.renderAllContent();
                    return;
                }

                const searchTerm = query.toLowerCase();
                
                // æœç´¢æ–°é—»æ–‡ç« 
                const allArticles = AINewsSystem.getArticles();
                const filteredArticles = allArticles.filter(article => 
                    (article.title && article.title.toLowerCase().includes(searchTerm)) || 
                    (article.summary && article.summary.toLowerCase().includes(searchTerm)) ||
                    (article.source && article.source.toLowerCase().includes(searchTerm)) ||
                    (article.description && article.description.toLowerCase().includes(searchTerm))
                );
                
                // æœç´¢å·¥å…·
                const allTools = await this.loadTools();
                const filteredTools = allTools.filter(tool => 
                    tool.name.toLowerCase().includes(searchTerm) || 
                    (tool.description && tool.description.toLowerCase().includes(searchTerm)) ||
                    (tool.keywords && tool.keywords.some(keyword => 
                        keyword.toLowerCase().includes(searchTerm)
                    ))
                );

                // æœç´¢äº§å“
                const allProducts = await this.loadProducts();
                const filteredProducts = allProducts.filter(product => 
                    product.name.toLowerCase().includes(searchTerm) || 
                    product.description.toLowerCase().includes(searchTerm) ||
                    product.category.toLowerCase().includes(searchTerm)
                );

                // æœç´¢å­¦ä¹ èµ„æº
                const allResources = await this.loadLearningResources();
                const filteredResources = allResources.filter(resource => 
                    resource.title.toLowerCase().includes(searchTerm) || 
                    resource.description.toLowerCase().includes(searchTerm) ||
                    resource.level.toLowerCase().includes(searchTerm)
                );

                // æœç´¢ä¸“é¢˜
                const allTopics = await this.loadTopics();
                const filteredTopics = allTopics.filter(topic => 
                    topic.name.toLowerCase().includes(searchTerm) || 
                    topic.description.toLowerCase().includes(searchTerm)
                );

                // æ›´æ–°å„éƒ¨åˆ†çš„å†…å®¹
                this.displaySearchResults('news', filteredArticles);
                this.displaySearchResults('tools', filteredTools);
                this.displaySearchResults('products', filteredProducts);
                this.displaySearchResults('learning', filteredResources);
                this.displaySearchResults('topics', filteredTopics);
            }

            // æ˜¾ç¤ºæœç´¢ç»“æœ
            displaySearchResults(section, items) {
                let containerId, generateFunction;
                
                switch(section) {
                    case 'news':
                        containerId = 'ai-news-content';
                        generateFunction = this.generateArticleHTML_simple;
                        break;
                    case 'tools':
                        containerId = 'tools-content';
                        generateFunction = this.generateToolHTML;
                        break;
                    case 'products':
                        containerId = 'products-content';
                        generateFunction = this.generateProductHTML;
                        break;
                    case 'learning':
                        containerId = 'learning-content';
                        generateFunction = this.generateLearningResourceHTML;
                        break;
                    case 'topics':
                        containerId = 'topics-content';
                        generateFunction = this.generateTopicHTML;
                        break;
                    default:
                        return;
                }

                const container = document.getElementById(containerId);
                if (!container) return;

                if (items.length === 0) {
                    container.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <i class="fas fa-search text-4xl text-gray-400 mb-4"></i>
                            <p class="text-gray-500 dark:text-gray-400 text-lg">æœªæ‰¾åˆ°ä¸ "<span class="font-semibold">${searchTerm}</span>" ç›¸å…³çš„å†…å®¹</p>
                            <p class="text-gray-400 dark:text-gray-500 mt-2">è¯·å°è¯•ä½¿ç”¨å…¶ä»–å…³é”®è¯</p>
                        </div>
                    `;
                    return;
                }

                const html = items.map(item => generateFunction.call(this, item)).join('');
                container.innerHTML = html;
            }
            
            // æ¸²æŸ“æ‰€æœ‰å†…å®¹ï¼ˆæ–°é—»å’Œæ¨¡å—ï¼‰
            async renderAllContent() {
                // é‡æ–°æ¸²æŸ“æ–°é—»
                const articles = AINewsSystem.getArticles();
                this.renderArticles(articles);
                
                // é‡æ–°æ¸²æŸ“å…¶ä»–æ¨¡å—
                await this.renderTools();
                await this.renderProducts();
                await this.renderLearningResources();
                await this.renderTopics();
            }
            
            // è¿‡æ»¤å·¥å…·
            async filterTools(category) {
                const container = document.getElementById('tools-content');
                if (!container) return;
                
                // Load tools from JSON file
                let tools = await this.loadTools();
                
                if (category !== 'all') {
                    tools = tools.filter(tool => 
                        tool.category && 
                        (tool.category.toLowerCase().includes(category) || 
                         tool.category.toLowerCase().replace(/\s+/g, '').includes(category))
                    );
                }
                
                // Apply current sort
                const sortSelect = document.getElementById('tools-sort');
                if (sortSelect) {
                    const sortBy = sortSelect.value;
                    tools = this.sortToolsArray(tools, sortBy);
                }
                
                if (tools.length === 0) {
                    container.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <i class="fas fa-tools text-4xl text-gray-400 mb-4"></i>
                            <p class="text-gray-500 dark:text-gray-400 text-lg">æœªæ‰¾åˆ° "${category}" ç±»åˆ«çš„å·¥å…·</p>
                            <p class="text-gray-400 dark:text-gray-500 mt-2">è¯·é€‰æ‹©å…¶ä»–ç±»åˆ«</p>
                        </div>
                    `;
                    return;
                }

                const html = tools.map(tool => this.generateToolHTML(tool)).join('');
                container.innerHTML = html;
            }
            
            // æ’åºå·¥å…·
            async sortTools(sortBy) {
                const container = document.getElementById('tools-content');
                if (!container) return;
                
                // Get current filter
                const activeFilterBtn = document.querySelector('.filter-btn.bg-blue-500, .filter-btn.dark\\:bg-blue-600');
                let category = 'all';
                if (activeFilterBtn) {
                    category = activeFilterBtn.getAttribute('data-filter');
                }
                
                // Load tools from JSON file
                let tools = await this.loadTools();
                
                if (category !== 'all') {
                    tools = tools.filter(tool => 
                        tool.category && 
                        (tool.category.toLowerCase().includes(category) || 
                         tool.category.toLowerCase().replace(/\s+/g, '').includes(category))
                    );
                }
                
                // Sort the tools
                tools = this.sortToolsArray(tools, sortBy);
                
                if (tools.length === 0) {
                    container.innerHTML = `
                        <div class="col-span-full text-center py-12">
                            <i class="fas fa-tools text-4xl text-gray-400 mb-4"></i>
                            <p class="text-gray-500 dark:text-gray-400 text-lg">æœªæ‰¾åˆ°å·¥å…·</p>
                            <p class="text-gray-400 dark:text-gray-500 mt-2">è¯·å°è¯•å…¶ä»–ç­›é€‰æ¡ä»¶</p>
                        </div>
                    `;
                    return;
                }

                const html = tools.map(tool => this.generateToolHTML(tool)).join('');
                container.innerHTML = html;
            }
            
            // å®é™…çš„æ’åºå‡½æ•°
            sortToolsArray(tools, sortBy) {
                switch(sortBy) {
                    case 'name':
                        return tools.sort((a, b) => a.name.localeCompare(b.name));
                    case 'category':
                        return tools.sort((a, b) => a.category.localeCompare(b.category));
                    default:
                        return tools;
                }
            }
            
            // æ£€æŸ¥å·¥å…·æ˜¯å¦å·²æ”¶è—
            isToolFavorite(toolName) {
                try {
                    const favorites = JSON.parse(localStorage.getItem('ainavhub_favorites') || '[]');
                    return favorites.includes(toolName);
                } catch (e) {
                    console.error('Error checking favorite status:', e);
                    return false;
                }
            }
            
            // æ·»åŠ /ç§»é™¤æ”¶è—
            toggleToolFavorite(toolName) {
                try {
                    let favorites = JSON.parse(localStorage.getItem('ainavhub_favorites') || '[]');
                    const index = favorites.indexOf(toolName);
                    
                    if (index > -1) {
                        // Remove from favorites
                        favorites.splice(index, 1);
                    } else {
                        // Add to favorites
                        favorites.push(toolName);
                    }
                    
                    localStorage.setItem('ainavhub_favorites', JSON.stringify(favorites));
                    
                    // Re-render tools to update favorite status
                    this.renderTools();
                    
                    // Show feedback
                    const message = index > -1 ? 'å·²å–æ¶ˆæ”¶è—' : 'å·²æ·»åŠ æ”¶è—';
                    this.showNotification(`${message}: ${toolName}`);
                    
                    return true;
                } catch (e) {
                    console.error('Error toggling favorite:', e);
                    return false;
                }
            }
            
            // æ˜¾ç¤ºé€šçŸ¥
            showNotification(message) {
                // Remove any existing notifications
                const existingNotifications = document.querySelectorAll('.notification-toast');
                existingNotifications.forEach(notification => notification.remove());
                
                // Create notification element
                const notification = document.createElement('div');
                notification.className = 'notification-toast fixed bottom-4 right-4 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg z-50';
                notification.textContent = message;
                
                // Add to page
                document.body.appendChild(notification);
                
                // Auto remove after 3 seconds
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 3000);
            }
        }

        // å…¨å±€æ¥å£ - ç®€åŒ–å’Œä¼˜åŒ–ç‰ˆæœ¬
        window.AINewsSystem = {
            processor: null,
            isInitialized: false,

            init: async function() {
                if (this.isInitialized) {
                    return true;
                }

                try {
                    if (!this.processor) {
                        this.processor = new AINewsProcessor();
                    }

                    await this.processor.init();
                    this.isInitialized = true;
                    return true;
                } catch (error) {
                    console.error('âŒ ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥:', error);
                    this.isInitialized = false;
                    return false;
                }
            },

            update: async function() {
                if (this.processor && this.isInitialized) {
                    return await this.processor.init();
                }
                return this.init(); // å¦‚æœè¿å¤„ç†å™¨éƒ½æœªåˆå§‹åŒ–
            },

            // è·å–ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯
            getStats: function() {
                try {
                    const cached = localStorage.getItem(AINewsConfig.cacheKey);
                    if (cached) {
                        const data = JSON.parse(cached);
                        return {
                            lastUpdate: new Date(data.timestamp).toLocaleString('zh-CN'),
                            articleCount: data.articles ? data.articles.length : 0,
                            cacheValid: Date.now() - data.timestamp < AINewsConfig.cacheTimeout,
                            dataSource: data.articles ? 'local' : 'none'
                        };
                    }
                } catch (error) {
                    console.warn('è·å–ç»Ÿè®¡ä¿¡æ¯å¤±è´¥:', error);
                }

                return {
                    lastUpdate: 'æš‚æ— æ•°æ®',
                    articleCount: 0,
                    cacheValid: false,
                    dataSource: 'none'
                };
            },

            // è·å–å½“å‰æ–‡ç« æ•°æ®
            getArticles: function() {
                return (this.processor && this.processor.articles) ? this.processor.articles : [];
            },
            
            // æ¸²æŸ“æ‰€æœ‰æ¨¡å—å†…å®¹
            async renderAllModules() {
                if (this.processor && this.isInitialized) {
                    // é‡æ–°æ¸²æŸ“æ–°é—»
                    const articles = this.getArticles();
                    this.processor.renderArticles(articles);
                    
                    await this.processor.renderTools();
                    await this.processor.renderProducts();
                    await this.processor.renderLearningResources();
                    await this.processor.renderTopics();
                }
            },
            
            // å…¨å±€æœç´¢åŠŸèƒ½
            search: async function(query) {
                if (this.processor && this.isInitialized) {
                    await this.processor.search(query);
                }
            },
        };

        // Mobile menu toggle functionality
        document.addEventListener('DOMContentLoaded', async function() {
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', function() {
                    mobileMenu.classList.toggle('hidden');
                });
            }
            
            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return; // Skip if href is just '#'
                    
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        // Close mobile menu if open
                        mobileMenu.classList.add('hidden');
                        
                        // Scroll to target
                        targetElement.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // Global search functionality
            const globalSearchInput = document.getElementById('global-search');
            const mobileSearchInput = document.getElementById('mobile-search');
            
            if (globalSearchInput) {
                globalSearchInput.addEventListener('input', async function(e) {
                    const query = e.target.value;
                    if (AINewsSystem.processor) {
                        await AINewsSystem.processor.search(query);
                    }
                });
            }
            
            if (mobileSearchInput) {
                mobileSearchInput.addEventListener('input', async function(e) {
                    const query = e.target.value;
                    if (AINewsSystem.processor) {
                        await AINewsSystem.processor.search(query);
                    }
                });
            }
            
            // Tools filter functionality
            const filterButtons = document.querySelectorAll('.filter-btn');
            if (filterButtons.length > 0) {
                filterButtons.forEach(button => {
                    button.addEventListener('click', function() {
                        // Remove active class from all buttons
                        filterButtons.forEach(btn => {
                            btn.classList.remove('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                            btn.classList.add('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                        });
                        
                        // Add active class to clicked button
                        this.classList.remove('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                        this.classList.add('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                        
                        // Apply filter
                        const filter = this.getAttribute('data-filter');
                        if (AINewsSystem.processor) {
                            AINewsSystem.processor.filterTools(filter);
                        }
                    });
                });
            }
            
            // Tools sort functionality
            const sortSelect = document.getElementById('tools-sort');
            if (sortSelect) {
                sortSelect.addEventListener('change', function() {
                    const sortBy = this.value;
                    if (AINewsSystem.processor) {
                        AINewsSystem.processor.sortTools(sortBy);
                    }
                });
            }
            
            // Favorite button functionality (using event delegation)
            document.addEventListener('click', function(e) {
                if (e.target.closest('.favorite-btn')) {
                    e.preventDefault();
                    const button = e.target.closest('.favorite-btn');
                    const toolName = button.getAttribute('data-tool');
                    
                    if (AINewsSystem.processor) {
                        AINewsSystem.processor.toggleToolFavorite(toolName);
                    }
                }
            });
            
            // Learning resources filter functionality
            const learningFilterButtons = document.querySelectorAll('.learning-filter-btn');
            if (learningFilterButtons.length > 0) {
                learningFilterButtons.forEach(button => {
                    button.addEventListener('click', async function() {
                        const filter = this.getAttribute('data-filter');
                        if (AINewsSystem.processor) {
                            await AINewsSystem.processor.filterLearningResources(filter);
                        }
                    });
                });
            }
            
            // News filter functionality
            const newsFilterButtons = document.querySelectorAll('.news-filter-btn');
            if (newsFilterButtons.length > 0) {
                newsFilterButtons.forEach(button => {
                    button.addEventListener('click', function() {
                        const filter = this.getAttribute('data-filter');
                        if (AINewsSystem.processor) {
                            AINewsSystem.processor.filterNews(filter);
                        }
                    });
                });
            }
            
            // Product filter functionality
            const productFilterButtons = document.querySelectorAll('.product-filter-btn');
            if (productFilterButtons.length > 0) {
                productFilterButtons.forEach(button => {
                    button.addEventListener('click', function() {
                        // Remove active class from all buttons
                        productFilterButtons.forEach(btn => {
                            btn.classList.remove('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                            btn.classList.add('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                        });
                        
                        // Add active class to clicked button
                        this.classList.remove('bg-gray-200', 'dark:bg-gray-700', 'text-gray-800', 'dark:text-gray-200');
                        this.classList.add('bg-blue-500', 'dark:bg-blue-600', 'text-white');
                        
                        const filter = this.getAttribute('data-filter');
                        if (AINewsSystem.processor) {
                            AINewsSystem.processor.filterProducts(filter);
                        }
                    });
                });
            }
            
            // Product sort functionality
            const productSortSelect = document.getElementById('products-sort');
            if (productSortSelect) {
                productSortSelect.addEventListener('change', function() {
                    const sortBy = this.value;
                    if (AINewsSystem.processor) {
                        AINewsSystem.processor.sortProducts(sortBy);
                    }
                });
            }

            console.log('ğŸš€ AiNavHubç³»ç»Ÿå¯åŠ¨ - JSONæ•°æ®æ¨¡å¼');

            try {
                const success = await AINewsSystem.init();
                if (success) {
                    console.log('âœ… AiNavHubæ–°é—»ç³»ç»Ÿåˆå§‹åŒ–æˆåŠŸï¼');

                    // åˆå§‹åŒ–æ›´æ–°æŒ‰é’®
                    const refreshButton = document.querySelector('button[onclick="AINewsSystem.update()"]');
                    if (refreshButton) {
                        refreshButton.textContent = 'åˆ·æ–°æ–°é—»';
                        refreshButton.innerHTML = '<i class="fas fa-refresh mr-1"></i>åˆ·æ–°æ–°é—»';
                    }
                    
                    // æ¸²æŸ“å…¶ä»–æ¨¡å—
                    await AINewsSystem.renderAllModules();
                } else {
                    console.warn('âš ï¸ ç³»ç»Ÿåˆå§‹åŒ–éƒ¨åˆ†å¤±è´¥ï¼Œä½¿ç”¨å¤‡ç”¨æ•°æ®');
                }
            } catch (error) {
                console.error('âŒ ç³»ç»Ÿåˆå§‹åŒ–å‡ºé”™:', error);

                // æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æç¤º
                setTimeout(() => {
                    const container = document.getElementById('ai-news-content');
                    if (container) {
                        container.innerHTML = `
                            <div class="text-center py-16 bg-red-50 border border-red-200 rounded-lg">
                                <i class="fas fa-exclamation-triangle text-4xl mb-4 text-red-500"></i>
                                <h3 class="text-lg font-medium text-red-800 mb-2">ç³»ç»Ÿåˆå§‹åŒ–å¤±è´¥</h3>
                                <p class="text-red-600 mb-4">ä½†è¯·ä¸è¦æ‹…å¿ƒï¼</p>
                                <button onclick="location.reload()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                                    <i class="fas fa-redo mr-2"></i>é‡è¯•
                                </button>
                            </div>
                        `;
                    }
                }, 3000);
            }
        });
    </script>
</body>
</html>